<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>세미나 출석 시스템</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f0f0f0;
        }
        .container {
            max-width: 1200px;
            width: 100%;
            margin: 0 auto;
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            overflow-x: auto; /* 수평 스크롤 가능하도록 변경 */
        }
        h1 {
            text-align: center;
            color: #333;
        }
        .stage {
            background-color: #daa520;
            color: white;
            text-align: center;
            padding: 10px;
            margin: 20px 0;
            border-radius: 5px;
            font-weight: bold;
        }
        .legend {
            display: flex;
            justify-content: flex-end;
            margin-bottom: 20px;
        }
        .legend-item {
            display: flex;
            align-items: center;
            margin-left: 20px;
        }
        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 3px;
            margin-right: 5px;
        }
        .seating-area {
            display: flex;
            justify-content: flex-start; /* 좌측 정렬로 변경 */
            margin-bottom: 20px;
            overflow-x: auto;
            max-width: 100%;
            padding: 0;
        }
        .section {
            flex: 0 0 auto;
            margin: 0; /* 섹션 간 여백 제거 */
            text-align: center;
            min-width: 100px;
        }
        .section-title {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 5px;
            color: white;
            font-weight: bold;
            margin-bottom: 10px;
        }
        .section-a .section-title {
            background-color: #809bce;
        }
        .section-b .section-title {
            background-color: #8fd694;
        }
        .section-c .section-title {
            background-color: #f9a875;
        }
        .month-row {
            display: flex;
            align-items: center;
            margin-bottom: 5px;
        }
        .month-label {
            width: 60px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #ccc;
            border-radius: 5px;
            margin-right: 5px;
        }
        .seats-row {
            display: flex;
            flex-wrap: nowrap;
            justify-content: flex-start;
            min-width: fit-content;
            position: relative;
        }
        .seat {
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 2px;
            border-radius: 3px;
            cursor: pointer;
            color: white;
            font-weight: bold;
            font-size: 14px;
            transition: all 0.2s;
            flex-shrink: 0;
        }
        .seat:hover {
            opacity: 0.8;
        }
        .section-a .seat {
            background-color: #809bce;
        }
        .section-b .seat {
            background-color: #8fd694;
        }
        .section-c .seat {
            background-color: #f9a875;
        }
        .seat.selected {
            background-color: #ff5e5e;
            transform: scale(1.1);
        }
        .summary {
            background-color: #333;
            color: white;
            padding: 15px;
            border-radius: 5px;
            margin-top: 20px;
        }
        .summary h2 {
            margin-top: 0;
        }
        .summary-details {
            display: flex;
            justify-content: space-between;
        }
        .summary-section {
            flex: 1;
        }
        .door {
            display: inline-block;
            padding: 5px 15px;
            background-color: #daa520;
            color: white;
            border-radius: 5px;
            font-weight: bold;
            margin-top: 10px;
        }
        .doors {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }
        .month-container {
            display: flex;
            margin-bottom: 5px;
            width: 100%;
            overflow: visible;
        }
        .months-label {
            width: 60px;
            min-width: 60px;
            background-color: #ccc;
            color: black;
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 5px;
            padding: 5px 0;
            margin-right: 5px;
            flex-shrink: 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>세미나 출석 시스템</h1>
        
        <div class="legend">
            <div class="legend-item">
                <div class="legend-color" style="background-color: #809bce;"></div>
                <span>구역</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: #8fd694;"></div>
                <span>열</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: #f9a875;"></div>
                <span>좌석 번호</span>
            </div>
        </div>
        
        <div class="stage">STAGE</div>
        
        <div class="seating-area">
            <div class="section section-a">
                <div class="section-title">A구역</div>
                <div id="section-a-seats"></div>
            </div>
            
            <div class="section section-b">
                <div class="section-title">B구역</div>
                <div id="section-b-seats"></div>
            </div>
            
            <div class="section section-c">
                <div class="section-title">C구역</div>
                <div id="section-c-seats"></div>
            </div>
        </div>
        
        <div class="summary">
            <h2>선택된 좌석 정보</h2>
            <div class="summary-details">
                <div class="summary-section">
                    <p>A구역: <span id="section-a-count">0</span>석</p>
                </div>
                <div class="summary-section">
                    <p>B구역: <span id="section-b-count">0</span>석</p>
                </div>
                <div class="summary-section">
                    <p>C구역: <span id="section-c-count">0</span>석</p>
                </div>
                <div class="summary-section">
                    <p>총 선택: <span id="total-count">0</span>석</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // 좌석 데이터 정의 - 이미지의 실제 좌석 배치와 정확히 일치하도록 수정
        const seatData = {
            sectionA: {
                // 각 행별 좌석 수 (이미지와 정확히 일치)
                1: 5, 2: 7, 3: 6, 4: 6, 5: 5, 6: 5, 7: 4, 8: 3
            },
            sectionB: {
                // 각 행별 좌석 수 (이미지와 정확히 일치)
                1: 5, 2: 6, 3: 7, 4: 8, 5: 9, 6: 10, 7: 11, 8: 8
            },
            sectionC: {
                // 각 행별 좌석 수 (이미지와 정확히 일치)
                1: 5, 2: 7, 3: 6, 4: 6, 5: 5, 6: 5, 7: 4, 8: 3
            }
        };

        // 좌석 카운트 변수
        let counts = {
            sectionA: 0,
            sectionB: 0,
            sectionC: 0,
            total: 0
        };

        // 좌석 생성 함수
        function createSeats() {
            createSectionSeats('section-a-seats', 'section-a', seatData.sectionA);
            createSectionSeats('section-b-seats', 'section-b', seatData.sectionB);
            createSectionSeats('section-c-seats', 'section-c', seatData.sectionC);
        }

        // 섹션별 좌석 생성
        function createSectionSeats(containerId, sectionClass, monthData) {
            const container = document.getElementById(containerId);
            
            // 열 라벨과 좌석 생성
            for (let row = 1; row <= 8; row++) {
                const monthContainer = document.createElement('div');
                monthContainer.className = 'month-container';
                
                // 7열과 8열 사이 공백 추가
                if (row === 8) {
                    monthContainer.style.marginTop = '20px';
                }
                
                // 열 라벨 (맨 왼쪽에 한번만)
                if (containerId === 'section-a-seats') {
                    const monthsLabel = document.createElement('div');
                    monthsLabel.className = 'months-label';
                    monthsLabel.textContent = row + '열';
                    monthContainer.appendChild(monthsLabel);
                } else {
                    // 다른 섹션일 경우 빈 공간
                    if (row === 1) {
                        const monthsLabel = document.createElement('div');
                        monthsLabel.style.width = '4px';
                        monthsLabel.style.visibility = 'hidden';
                        monthContainer.appendChild(monthsLabel);
                    }
                }
                
                const seatsRow = document.createElement('div');
                seatsRow.className = 'seats-row';
                
                // 해당 월의 좌석 수만큼 생성
                const seatCount = monthData[row] || 0;
                
                // 좌석 행 컨테이너
                const rowContainer = document.createElement('div');
                rowContainer.className = 'seats-row';
                
                // 각 구역별 좌석 정렬 - 픽셀 단위로 정확히 배치
                let startPosition = 0;
                
                // A구역 정렬 - 이미지에 맞게 정확히 조정
                if (sectionClass === 'section-a') {
                    if (row === 1) startPosition = 50;      // 첫 번째 열
                    else if (row === 2) startPosition = 0;  // 두 번째 열
                    else if (row === 3) startPosition = 10; // 세 번째 열
                    else if (row === 4) startPosition = 10; // 네 번째 열
                    else if (row === 5) startPosition = 45; // 다섯 번째 열
                    else if (row === 6) startPosition = 45; // 여섯 번째 열
                    else if (row === 7) startPosition = 80; // 일곱 번째 열
                    else if (row === 8) startPosition = 80; // 여덟 번째 열
                } 
                // B구역 정렬 - A구역 기준에서 픽셀 단위로 계산
                else if (sectionClass === 'section-b') {
                    // A구역 픽셀 위치 + A구역 좌석 너비 + 간격(34px)
                    // 좌석 하나의 너비는 약 34px (30px + 여백 4px)
                    const seatWidth = 34;
                    
                    if (row === 1) {
                        const aPosition = 50; // A구역 1열 시작 위치
                        const aSeats = seatData.sectionA[1]; // A구역 1열 좌석 수
                        startPosition = aPosition + (aSeats * seatWidth) + 34; // A구역 끝 + 간격
                    }
                    else if (row === 2) {
                        const aPosition = 0; // A구역 2열 시작 위치
                        const aSeats = seatData.sectionA[2]; // A구역 2열 좌석 수
                        startPosition = aPosition + (aSeats * seatWidth) + 34;
                    }
                    else if (row === 3) {
                        const aPosition = 10; // A구역 3열 시작 위치
                        const aSeats = seatData.sectionA[3]; // A구역 3열 좌석 수
                        startPosition = aPosition + (aSeats * seatWidth) + 34;
                    }
                    else if (row === 4) {
                        const aPosition = 10; // A구역 4열 시작 위치
                        const aSeats = seatData.sectionA[4]; // A구역 4열 좌석 수
                        startPosition = aPosition + (aSeats * seatWidth) + 34;
                    }
                    else if (row === 5) {
                        const aPosition = 45; // A구역 5열 시작 위치
                        const aSeats = seatData.sectionA[5]; // A구역 5열 좌석 수
                        startPosition = aPosition + (aSeats * seatWidth) + 34;
                    }
                    else if (row === 6) {
                        const aPosition = 45; // A구역 6열 시작 위치
                        const aSeats = seatData.sectionA[6]; // A구역 6열 좌석 수
                        startPosition = aPosition + (aSeats * seatWidth) + 34;
                    }
                    else if (row === 7) {
                        const aPosition = 80; // A구역 7열 시작 위치
                        const aSeats = seatData.sectionA[7]; // A구역 7열 좌석 수
                        startPosition = aPosition + (aSeats * seatWidth) + 34;
                    }
                    else if (row === 8) {
                        const aPosition = 80; // A구역 8열 시작 위치
                        const aSeats = seatData.sectionA[8]; // A구역 8열 좌석 수
                        startPosition = aPosition + (aSeats * seatWidth) + 34;
                    }
                }
                // C구역 정렬 - B구역 기준에서 픽셀 단위로 계산
                else if (sectionClass === 'section-c') {
                    // B구역 픽셀 위치 + B구역 좌석 너비 + 간격(34px)
                    const seatWidth = 34;
                    
                    if (row === 1) {
                        // A구역 시작 위치
                        const aPosition = 50;
                        const aSeats = seatData.sectionA[1];
                        // B구역 시작 위치 = A구역 시작 위치 + (A구역 좌석 수 * 좌석 너비) + 간격
                        const bPosition = aPosition + (aSeats * seatWidth) + 34;
                        const bSeats = seatData.sectionB[1];
                        // C구역 시작 위치 = B구역 시작 위치 + (B구역 좌석 수 * 좌석 너비) + 간격
                        startPosition = bPosition + (bSeats * seatWidth) + 34;
                    }
                    else if (row === 2) {
                        const aPosition = 0;
                        const aSeats = seatData.sectionA[2];
                        const bPosition = aPosition + (aSeats * seatWidth) + 34;
                        const bSeats = seatData.sectionB[2];
                        startPosition = bPosition + (bSeats * seatWidth) + 34;
                    }
                    else if (row === 3) {
                        const aPosition = 10;
                        const aSeats = seatData.sectionA[3];
                        const bPosition = aPosition + (aSeats * seatWidth) + 34;
                        const bSeats = seatData.sectionB[3];
                        startPosition = bPosition + (bSeats * seatWidth) + 34;
                    }
                    else if (row === 4) {
                        const aPosition = 10;
                        const aSeats = seatData.sectionA[4];
                        const bPosition = aPosition + (aSeats * seatWidth) + 34;
                        const bSeats = seatData.sectionB[4];
                        startPosition = bPosition + (bSeats * seatWidth) + 34;
                    }
                    else if (row === 5) {
                        const aPosition = 45;
                        const aSeats = seatData.sectionA[5];
                        const bPosition = aPosition + (aSeats * seatWidth) + 34;
                        const bSeats = seatData.sectionB[5];
                        startPosition = bPosition + (bSeats * seatWidth) + 34;
                    }
                    else if (row === 6) {
                        const aPosition = 45;
                        const aSeats = seatData.sectionA[6];
                        const bPosition = aPosition + (aSeats * seatWidth) + 34;
                        const bSeats = seatData.sectionB[6];
                        startPosition = bPosition + (bSeats * seatWidth) + 34;
                    }
                    else if (row === 7) {
                        const aPosition = 80;
                        const aSeats = seatData.sectionA[7];
                        const bPosition = aPosition + (aSeats * seatWidth) + 34;
                        const bSeats = seatData.sectionB[7];
                        startPosition = bPosition + (bSeats * seatWidth) + 34;
                    }
                    else if (row === 8) {
                        const aPosition = 80;
                        const aSeats = seatData.sectionA[8];
                        const bPosition = aPosition + (aSeats * seatWidth) + 34;
                        const bSeats = seatData.sectionB[8];
                        startPosition = bPosition + (bSeats * seatWidth) + 34;
                    }
                }
                
                // 좌석 행에 시작 위치 적용
                rowContainer.style.paddingLeft = startPosition + 'px';
                
                for (let i = 1; i <= seatCount; i++) {
                    const seat = document.createElement('div');
                    seat.className = `seat ${sectionClass}`;
                    seat.textContent = i;
                    seat.dataset.section = sectionClass.replace('section-', '');
                    seat.dataset.row = row;
                    seat.dataset.number = i;
                    
                    // 좌석 클릭 이벤트
                    seat.addEventListener('click', toggleSeat);
                    
                    rowContainer.appendChild(seat);
                }
                
                monthContainer.appendChild(rowContainer);
                container.appendChild(monthContainer);
            }
        }

        // 좌석 선택/해제 토글
        function toggleSeat() {
            this.classList.toggle('selected');
            
            const section = this.dataset.section;
            const isSelected = this.classList.contains('selected');
            
            // 선택/해제에 따라 카운트 업데이트
            if (isSelected) {
                counts['section' + section.toUpperCase()]++;
                counts.total++;
            } else {
                counts['section' + section.toUpperCase()]--;
                counts.total--;
            }
            
            // UI 업데이트
            updateCounts();
        }

        // 카운트 업데이트
        function updateCounts() {
            document.getElementById('section-a-count').textContent = counts.sectionA;
            document.getElementById('section-b-count').textContent = counts.sectionB;
            document.getElementById('section-c-count').textContent = counts.sectionC;
            document.getElementById('total-count').textContent = counts.total;
        }

        // 페이지 로드 시 좌석 생성
        window.addEventListener('DOMContentLoaded', createSeats);
    </script>
</body>
</html>
